"use strict";(self.webpackChunkso=self.webpackChunkso||[]).push([[9829],{5680:(e,t,n)=>{n.d(t,{xA:()=>c,yg:()=>g});var r=n(6540);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var m=r.createContext({}),s=function(e){var t=r.useContext(m),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},c=function(e){var t=s(e.components);return r.createElement(m.Provider,{value:t},e.children)},p="mdxType",y={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},u=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,m=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),p=s(n),u=a,g=p["".concat(m,".").concat(u)]||p[u]||y[u]||o;return n?r.createElement(g,l(l({ref:t},c),{},{components:n})):r.createElement(g,l({ref:t},c))}));function g(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,l=new Array(o);l[0]=u;var i={};for(var m in t)hasOwnProperty.call(t,m)&&(i[m]=t[m]);i.originalType=e,i[p]="string"==typeof e?e:a,l[1]=i;for(var s=2;s<o;s++)l[s]=n[s];return r.createElement.apply(null,l)}return r.createElement.apply(null,n)}u.displayName="MDXCreateElement"},4621:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>m,contentTitle:()=>l,default:()=>y,frontMatter:()=>o,metadata:()=>i,toc:()=>s});var r=n(8168),a=(n(6540),n(5680));const o={},l="Investigate Memory Actions",i={unversionedId:"Data/Lab 4 - Investigate Memory/investigate-memory",id:"Data/Lab 4 - Investigate Memory/investigate-memory",title:"Investigate Memory Actions",description:"Memory actions generally mean:",source:"@site/docs/Data/Lab 4 - Investigate Memory/investigate-memory.md",sourceDirName:"Data/Lab 4 - Investigate Memory",slug:"/Data/Lab 4 - Investigate Memory/investigate-memory",permalink:"/operating-systems/77/Data/Lab 4 - Investigate Memory/investigate-memory",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"sidebar",previous:{title:"Lab 4 - Investigate Memory",permalink:"/operating-systems/77/Data/Lab 4 - Investigate Memory/"},next:{title:"Drills",permalink:"/operating-systems/77/Data/Lab 4 - Investigate Memory/Drills/"}},m={},s=[{value:"<code>malloc()</code> in Musl",id:"malloc-in-musl",level:2}],c={toc:s},p="wrapper";function y(e){let{components:t,...n}=e;return(0,a.yg)(p,(0,r.A)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,a.yg)("h1",{id:"investigate-memory-actions"},"Investigate Memory Actions"),(0,a.yg)("p",null,"Memory actions generally mean:"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"memory access: read, write or execute"),(0,a.yg)("li",{parentName:"ul"},"memory allocation"),(0,a.yg)("li",{parentName:"ul"},"memory deallocation")),(0,a.yg)("p",null,"By far, the most important actions are allocation and deallocation.\nBecause, if not done right, these can get to memory loss and poor memory use."),(0,a.yg)("p",null,"Memory loss generally happens in the form of memory leaks."),(0,a.yg)("h2",{id:"malloc-in-musl"},(0,a.yg)("inlineCode",{parentName:"h2"},"malloc()")," in Musl"),(0,a.yg)("p",null,"Each libc (or memory allocator such as ",(0,a.yg)("inlineCode",{parentName:"p"},"jemalloc"),") uses their own implementation of ",(0,a.yg)("inlineCode",{parentName:"p"},"malloc()"),", ",(0,a.yg)("inlineCode",{parentName:"p"},"free()")," and other functions.\n",(0,a.yg)("a",{parentName:"p",href:"https://musl.libc.org/"},"Musl libc")," is a lightweight standard C library that provides compatible features with the more heavyweights ",(0,a.yg)("a",{parentName:"p",href:"https://www.gnu.org/software/libc/"},"GNU libc"),"."),(0,a.yg)("p",null,"Take a look through implementation of ",(0,a.yg)("inlineCode",{parentName:"p"},"malloc()")," and ",(0,a.yg)("inlineCode",{parentName:"p"},"free()")," in ",(0,a.yg)("a",{parentName:"p",href:"https://elixir.bootlin.com/musl/v1.2.3/source/src/malloc"},"Musl libc"),".\nSee all three implementations for ",(0,a.yg)("inlineCode",{parentName:"p"},"malloc()"),":"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"the one in ",(0,a.yg)("inlineCode",{parentName:"li"},"lite_malloc.c")),(0,a.yg)("li",{parentName:"ul"},"the one in ",(0,a.yg)("inlineCode",{parentName:"li"},"mallocng/malloc.c")),(0,a.yg)("li",{parentName:"ul"},"the one in ",(0,a.yg)("inlineCode",{parentName:"li"},"oldmalloc/malloc"))),(0,a.yg)("p",null,"See also ",(0,a.yg)("a",{parentName:"p",href:"https://elixir.bootlin.com/musl/v1.2.3/source/src/malloc/mallocng/free.c#L101"},"the implementation of ",(0,a.yg)("inlineCode",{parentName:"a"},"free()")),".\nAnd ",(0,a.yg)("a",{parentName:"p",href:"https://elixir.bootlin.com/musl/v1.2.3/source/src/malloc/calloc.c#L33"},"the implementation of ",(0,a.yg)("inlineCode",{parentName:"a"},"calloc()")),"."),(0,a.yg)("p",null,"You needn't spend too much time browsing the implementation of these functions, just having a broad understanding of how they work."))}y.isMDXComponent=!0}}]);