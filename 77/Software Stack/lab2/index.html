<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-Software Stack/lab2">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">Lab 2 - Library Perspective | Operating Systems</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="http://localhost//operating-systems/77/Software Stack/lab2"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Lab 2 - Library Perspective | Operating Systems"><meta data-rh="true" name="description" content="Common Functions"><meta data-rh="true" property="og:description" content="Common Functions"><link data-rh="true" rel="canonical" href="http://localhost//operating-systems/77/Software Stack/lab2"><link data-rh="true" rel="alternate" href="http://localhost//operating-systems/77/Software Stack/lab2" hreflang="en"><link data-rh="true" rel="alternate" href="http://localhost//operating-systems/77/Software Stack/lab2" hreflang="x-default"><link rel="stylesheet" href="/operating-systems/77/assets/css/styles.a69a9d41.css">
<link rel="preload" href="/operating-systems/77/assets/js/runtime~main.c3e421f7.js" as="script">
<link rel="preload" href="/operating-systems/77/assets/js/main.1dc4fdd5.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="theme.common.skipToMainContent"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/operating-systems/77/"><div class="navbar__logo"><img src="/operating-systems/77/img/logo.svg" alt="Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/operating-systems/77/img/logo.svg" alt="Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">SO</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/operating-systems/77/Software Stack">Software Stack</a><a class="navbar__item navbar__link" href="/operating-systems/77/Data">Data</a><a class="navbar__item navbar__link" href="/operating-systems/77/Lecture">Lecture</a><a class="navbar__item navbar__link" href="/operating-systems/77/Assignments">Assignments</a><a class="navbar__item navbar__link" href="/operating-systems/77/Exams">Exams</a><a class="navbar__item navbar__link" href="/operating-systems/77/Hackathons">Hackathons</a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/operating-systems/77/">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/operating-systems/77/lab-setup">Setting up the Lab Environment</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/operating-systems/77/Software Stack/">Software Stack</a><button aria-label="Toggle the collapsible sidebar category &#x27;Software Stack&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/operating-systems/77/Software Stack/Software-Stack">Slides</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/operating-systems/77/Software Stack/software-stack-overview">Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/operating-systems/77/Software Stack/Questions/">Questions</a><button aria-label="Toggle the collapsible sidebar category &#x27;Questions&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/operating-systems/77/Software Stack/lab1">Lab 1 - Operating System Perspective</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/operating-systems/77/Software Stack/lab2">Lab 2 - Library Perspective</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/operating-systems/77/Data/">Data</a><button aria-label="Toggle the collapsible sidebar category &#x27;Data&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/operating-systems/77/Lecture/">Lecture</a><button aria-label="Toggle the collapsible sidebar category &#x27;Lecture&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/operating-systems/77/Assignments/">Assignments</a><button aria-label="Toggle the collapsible sidebar category &#x27;Assignments&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/operating-systems/77/Exams/">Exams</a><button aria-label="Toggle the collapsible sidebar category &#x27;Exams&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/operating-systems/77/Hackathons/">Hackathons</a><button aria-label="Toggle the collapsible sidebar category &#x27;Hackathons&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/operating-systems/77/rules-and-grading">Rules and Grading</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/operating-systems/77/resources">Resources</a></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/operating-systems/77/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/operating-systems/77/Software Stack/"><span itemprop="name">Software Stack</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Lab 2 - Library Perspective</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Lab 2 - Library Perspective</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="common-functions">Common Functions<a class="hash-link" href="#common-functions" title="Direct link to heading">​</a></h2><p>By using wrapper calls, we are able to write our programs in C.
However, we still need to implement common functions for string management, working with I/O, working with memory.</p><p>The simple attempt is to implement these functions (<code>printf()</code> or <code>strcpy()</code> or <code>malloc()</code>) once in a C source code file and then reuse them when needed.
This saves us time (we don&#x27;t have to reimplement) and allows us to constantly improve one implementation constantly;
there will only be one implementation that we update to increase its safety, efficiency or performance.</p><p>The <code>chapters/software-stack/libc/drills/tasks/common-functions/support</code> folder stores the implementation of string management functions, in <code>string.c</code> and <code>string.h</code> and of printing functions in <code>printf.c</code> and <code>printf.h</code>.
The <code>printf()</code> implementation is <a href="https://github.com/mpaland/printf" target="_blank" rel="noopener noreferrer">this one</a>.</p><p>There are two programs: <code>main_string.c</code> showcases string management functions, <code>main_printf.c</code> showcases the <code>printf()</code> function.</p><p><code>main_string.c</code> depends on the <code>string.h</code> and <code>string.c</code> files that implement the <code>strlen()</code> and <code>strcpy()</code> functions.
We print messages using the <code>write()</code> system call wrapper implemented in <code>syscall.s</code></p><p>Let&#x27;s build and run the program:</p><div class="language-console codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-console codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">student@os:~/.../common-functions/support$ make main_string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gcc -fno-stack-protector   -c -o main_string.o main_string.c</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gcc -fno-stack-protector   -c -o string.o string.c</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nasm -f elf64 -o syscall.o syscall.s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gcc -nostdlib -no-pie -Wl,--entry=main -Wl,--build-id=none  main_string.o string.o syscall.o   -o main_string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">student@os:~/.../common-functions/support$ ./main_string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Destination string is: warhammer40k</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">student@os:~/.../common-functions/support$ strace ./main_string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">execve(&quot;./main_string&quot;, [&quot;./main_string&quot;], 0x7ffd544d0a70 /- 63 vars */) = 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">write(1, &quot;Destination string is: &quot;, 23Destination string is: ) = 23</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">write(1, &quot;warhammer40k\n&quot;, 13warhammer40k</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">)          = 13</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">exit(0)                                 = ?</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+++ exited with 0 +++</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>When using <code>strace</code> we see that only the <code>write()</code> system call wrapper triggers a system call.
There are no system calls triggered by <code>strlen()</code> and <code>strcpy()</code> as can be seen in their implementation.</p><p>In addition, <code>main_printf.c</code> depends on the <code>printf.h</code> and <code>printf.c</code> files that implement the <code>printf()</code> function.
There is a requirement to implement the <code>_putchar()</code> function;
we implement it in the <code>main_printf.c</code> file using the <code>write()</code> syscall call wrapper.
The <code>main()</code> function <code>main_printf.c</code> file contains all the string and printing calls.
<code>printf()</code> offers a more powerful printing interface, allowing us to print addresses and integers.</p><p>Let&#x27;s build and run the program:</p><div class="language-console codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-console codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">student@os:~/.../common-functions/support$ make main_printf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gcc -fno-stack-protector   -c -o printf.o printf.c</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gcc -nostdlib -no-pie -Wl,--entry=main -Wl,--build-id=none  main_printf.o printf.o string.o syscall.o   -o main_printf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">student@os:~/.../common-functions/support$ ./main_printf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[before] src is at 00000000004026A0, len is 12, content: &quot;warhammer40k&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[before] dest is at 0000000000603000, len is 0, content: &quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">copying src to dest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[after] src is at 00000000004026A0, len is 12, content: &quot;warhammer40k&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[after] dest is at 0000000000603000, len is 12, content: &quot;warhammer40k&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">student@os:~/.../common-functions/support$ strace ./main_printf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">execve(&quot;./main_printf&quot;, [&quot;./main_printf&quot;], 0x7ffcaaa1d660 /- 63 vars */) = 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">write(1, &quot;[&quot;, 1[)                        = 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">write(1, &quot;b&quot;, 1b)                        = 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">write(1, &quot;e&quot;, 1e)                        = 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">write(1, &quot;f&quot;, 1f)                        = 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">write(1, &quot;o&quot;, 1o)                        = 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">write(1, &quot;r&quot;, 1r)                        = 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">write(1, &quot;e&quot;, 1e)                        = 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">write(1, &quot;]&quot;, 1])                        = 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">write(1, &quot; &quot;, 1 )                        = 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">write(1, &quot;s&quot;, 1s)                        = 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">write(1, &quot;r&quot;, 1r)                        = 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[...]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>We see that we have greater printing flexibility with the <code>printf()</code> function.
However, one downside of the current implementation is that it makes a system call for each character.
This is inefficient and could be improved by printing a whole string.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="libraries-and-libc">Libraries and libc<a class="hash-link" href="#libraries-and-libc" title="Direct link to heading">​</a></h2><p>Once we have common functions implemented, we can reuse them at any time.
The main unit for software reusability is the <strong>library</strong>.
In short, a library is a common machine code that can be linked against different other software components.
Each time we want to use the <code>printf()</code> function or the <code>strlen()</code> function, we don&#x27;t need to reimplement them.
We also don&#x27;t need to use existing source code files, rebuild them and reuse them.
We (re)use existing machine code in libraries.</p><p>A library is a collection of object files that export given data structures and functions to be used by other programs.
We create a program, we compile and then we link it against the library for all the features it provides.</p><p>The most important library in modern operating systems is the <strong>standard C library</strong>, also called <strong>libc</strong>.
This is the library providing system call wrappers and basic functionality for input-output, string management, memory management.
By default, a program is always linked with the standard C library.
In the examples above, we&#x27;ve explicitly disabled the use of the standard C library with the help of the <code>-nostdlib</code> linker option.</p><p>By using the standard C library, it&#x27;s much easier to create new programs.
You call existing functionality in the library and implement only features particular to your program.</p><p>The <code>chapters/software-stack/libc/drills/tasks/libc/support/</code> folder stores the implementation of programs using the standard C library: <code>hello.c</code>, <code>main_string.c</code> and <code>main_printf.c</code>.
These programs are almost identical to those used in the past sections:</p><ul><li><code>hello.c</code> is similar to the programs in <code>chapters/software-stack/system-calls/drills/tasks/basic-syscall/solution/</code> and <code>chapters/software-stack/system-calls/drills/tasks/syscall-wrapper/solution/</code></li><li><code>main_string.c</code> and <code>main_printf.c</code> are similar to the programs in <code>chapters/software-stack/libc/drills/tasks/common-functions/solution/</code></li></ul><p>Let&#x27;s build and run them:</p><div class="language-console codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-console codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">student@os:~/.../libc/support$ ls</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hello  hello.c  hello.o  main_printf  main_printf.c  main_printf.o  main_string  main_string.c  main_string.o  Makefile</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">student@os:~/.../libc/support$ make clean</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rm -f hello hello.o</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rm -f main_printf main_printf.o</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rm -f main_string main_string.o</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">student@os:~/.../libc/support$ ls</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hello.c  main_printf.c  main_string.c  Makefile</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">student@os:~/.../libc/support$ make</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cc -Wall   -c -o hello.o hello.c</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cc -static  hello.o   -o hello</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cc -Wall   -c -o main_printf.o main_printf.c</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cc -static  main_printf.o   -o main_printf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cc -Wall   -c -o main_string.o main_string.c</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cc -static  main_string.o   -o main_string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">student@os:~/.../libc/support$ ls</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hello  hello.c  hello.o  main_printf  main_printf.c  main_printf.o  main_string  main_string.c  main_string.o  Makefile</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">student@os:~/.../libc/support$ ./hello</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Hello, world!</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Bye, world!</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aaa</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aaa</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">^C</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">student@os:~/.../libc/support$ ./main_string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Destination string is: warhammer40k</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">student@os:~/.../libc/support$ ./main_printf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[before] src is at 0x492308, len is 12, content: &quot;warhammer40k&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[before] dest is at 0x6bb340, len is 0, content: &quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">copying src to dest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[after] src is at 0x492308, len is 12, content: &quot;warhammer40k&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[after] dest is at 0x6bb340, len is 12, content: &quot;warhammer40k&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">abc</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The behavior / output is similar to the ones in the previous sections:</p><div class="language-console codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-console codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">student@os:~/.../libc/support$ ../../solution/basic-syscall/hello-nasm</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Hello, world!</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Bye, world!</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aaa</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aaa</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">^C</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">student@os:~/.../libc/support$ ../../solution/common-functions/main_string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Destination string is: warhammer40k</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">student@os:~/.../libc/support$ ../../solution/common-functions/main_printf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[before] src is at 0000000000402680, len is 12, content: &quot;warhammer40k&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[before] dest is at 0000000000604000, len is 0, content: &quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">copying src to dest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[after] src is at 0000000000402680, len is 12, content: &quot;warhammer40k&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[after] dest is at 0000000000604000, len is 12, content: &quot;warhammer40k&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">abc</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>We can inspect the system calls made to check the similarities.
For example, for the <code>main_printf</code> program we get the outputs:</p><div class="language-console codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-console codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">student@os:~/.../libc/support$ strace ./main_printf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">execve(&quot;./main_printf&quot;, [&quot;./main_printf&quot;], 0x7fff7b38c240 /- 66 vars */) = 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">brk(NULL)                               = 0x15af000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">brk(0x15b01c0)                          = 0x15b01c0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">arch_prctl(ARCH_SET_FS, 0x15af880)      = 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">uname({sysname=&quot;Linux&quot;, nodename=&quot;[...]&quot;, ...}) = 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">readlink(&quot;/proc/self/exe&quot;, &quot;[...]/operating&quot;..., 4096) = 105</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">brk(0x15d11c0)                          = 0x15d11c0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">brk(0x15d2000)                          = 0x15d2000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">access(&quot;/etc/ld.so.nohwcap&quot;, F_OK)      = -1 ENOENT (No such file or directory)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fstat(1, {st_mode=S_IFCHR|0620, st_rdev=makedev(136, 18), ...}) = 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">write(1, &quot;[before] src is at 0x492308, len&quot;..., 64[before] src is at 0x492308, len is 12, content: &quot;warhammer40k&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">) = 64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">write(1, &quot;[before] dest is at 0x6bb340, le&quot;..., 52[before] dest is at 0x6bb340, len is 0, content: &quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">) = 52</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">write(1, &quot;copying src to dest\n&quot;, 20copying src to dest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">)   = 20</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">write(1, &quot;[after] src is at 0x492308, len &quot;..., 63[after] src is at 0x492308, len is 12, content: &quot;warhammer40k&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">) = 63</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">write(1, &quot;[after] dest is at 0x6bb340, len&quot;..., 64[after] dest is at 0x6bb340, len is 12, content: &quot;warhammer40k&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">) = 64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">write(1, &quot;ab&quot;, 2ab)                       = 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">write(1, &quot;c\n&quot;, 2c</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">)                      = 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">exit_group(0)                           = ?</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+++ exited with 0 +++</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">student@os:~/.../libc/support$ strace ../../solution/common-functions/main_printf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">execve(&quot;../../solution/common-functions/main_printf&quot;, [&quot;../../solution/common-functions/&quot;...], 0x7ffe204eec00 /- 66 vars */) = 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">write(1, &quot;[before] src is at 0000000000402&quot;..., 72[before] src is at 0000000000402680, len is 12, content: &quot;warhammer40k&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">) = 72</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">write(1, &quot;[before] dest is at 000000000060&quot;..., 60[before] dest is at 0000000000604000, len is 0, content: &quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">) = 60</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">write(1, &quot;copying src to dest\n&quot;, 20copying src to dest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">)   = 20</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">write(1, &quot;[after] src is at 00000000004026&quot;..., 71[after] src is at 0000000000402680, len is 12, content: &quot;warhammer40k&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">) = 71</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">write(1, &quot;[after] dest is at 0000000000604&quot;..., 72[after] dest is at 0000000000604000, len is 12, content: &quot;warhammer40k&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">) = 72</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">write(1, &quot;ab&quot;, 2ab)                       = 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">write(1, &quot;c\n&quot;, 2c</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">)                      = 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">exit(0)                                 = ?</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+++ exited with 0 +++</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The output is similar, with differences at the beginning and the end of the system call trace.
In the case of the libc-built program, a series of additional system calls (<code>brk</code>, <code>arch_prctl</code>, <code>uname</code> etc.) are made.
Also, there is an implicit call to <code>exit_group</code> instead of an explicit one to <code>exit</code> in the non-libc case.
These are initialization and cleanup routines that are implicitly added when using the standard C library.
They are generally used for setting and cleaning up the stack, environment variables and other pieces of information required by the program or the standard C library itself.</p><p>We could argue that the initialization steps incur overhead, and that&#x27;s a downside of using the standard C library.
However, these initialization steps are required for almost all programs.
And, given that almost all programs make use of the basic features of the standard C library, libc is almost always used.
We can say the above were exceptions to the rule, where we didn&#x27;t make use of the standard C library.</p><p>Summarizing, the advantages and disadvantages of using the standard C library are:</p><ul><li>(+) easier development: do calls to existing functions already implemented in the standard C library;
default build and link flags</li><li>(+) portability: if the system provides a standard C library, one calls the library functions that will then interact with the lower-layer API</li><li>(+) implicit initialization and cleanup: no need for you do explicitly create them</li><li>(-) usually larger in size (static) executables</li><li>(-) a level of overhead as the standard C library wraps system calls</li><li>(-) potential security issues: a larger set of (potentially vulnerable) functions are presented by the standard C library</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="high-level-languages">High-Level Languages<a class="hash-link" href="#high-level-languages" title="Direct link to heading">​</a></h2><p>Using the standard C library (libc) frees the programmer from the cumbersome steps of invoking system calls and reimplementing common features.
Still, for improved development time and safety, other programming languages can be used, such as Rust, Python, JavaScript.
Most (if not all) of these high-level programming languages still make use of the standard C library.
Such that a call to a function in Python would end-up making a call to a function in the standard C library.</p><p>The <code>chapters/software-stack/high-level-languages/drills/tasks/high-level-lang/support/</code> folder stores the implementation of a simple &quot;Hello, World!&quot;-printing program in Python.
We simply invoke the <code>python</code> interpreter to run the program:</p><div class="language-console codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-console codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">student@os:~/.../high-level-lang/support$ python hello.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Hello, world!</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>We count the number of functions called from the standard C library and the number of system calls:</p><div class="language-console codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-console codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">student@os:~/.../high-level-lang/support$ ltrace -l &#x27;libc*&#x27; python hello.py 2&gt; libc.out</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Hello, world!</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">student@os:~/.../high-level-lang/support$ wc -l libc.out</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">50469 out</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">student@os:~/.../high-level-lang/support$ strace python hello.py 2&gt; syscall.out</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Hello, world!</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">student@os:~/.../high-level-lang/support$ wc -l syscall.out</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">948 syscall.out</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The dynamic standard C library (<code>libc.so.6</code>) is a dependency of the Python interpreter (<code>/usr/bin/python3</code>):</p><div class="language-console codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-console codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">student@os:~/.../high-level-lang/support$ ldd /usr/bin/python3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[...]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        libc.so.6 =&gt; /lib/x86_64-linux-gnu/libc.so.6 (0x00007fa6fd6d0000)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[...]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>We can see the complexity of invoking the Python interpreter, resulting in more the 50,000 of library calls being made.
This means added overhead versus a simple C function.
However, this also means faster development in the Python programming language.
Each new layer in the software stack simplifies development but adds overhead.</p><p>We can use <code>perf</code> to compare the running time between the Python and a C &quot;Hello, World!&quot;-printing programs:</p><div class="language-console codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-console codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">student@os:~/.../high-level-lang/support$ sudo perf stat ../static-dynamic/hello</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Hello, World!</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Performance counter stats for &#x27;../static-dynamic/hello&#x27;:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              0.46 msec task-clock                #    0.559 CPUs utilized</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                 0      context-switches          #    0.000 K/sec</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                 0      cpu-migrations            #    0.000 K/sec</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                52      page-faults               #    0.114 M/sec</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           859,341      cycles                    #    1.882 GHz</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           713,395      instructions              #    0.83  insn per cycle</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           141,710      branches                  #  310.393 M/sec</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             6,208      branch-misses             #    4.38% of all branches</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       0.000816974 seconds time elapsed</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       0.000872000 seconds user</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       0.000000000 seconds sys</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">student@os:~/.../high-level-lang/support$ sudo perf stat python hello.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Hello, world!</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Performance counter stats for &#x27;python hello.py&#x27;:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             69.39 msec task-clock                #    0.992 CPUs utilized</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                 2      context-switches          #    0.029 K/sec</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                 0      cpu-migrations            #    0.000 K/sec</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             1,115      page-faults               #    0.016 M/sec</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        74,405,125      cycles                    #    1.072 GHz</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        84,957,056      instructions              #    1.14  insn per cycle</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        18,574,724      branches                  #  267.689 M/sec</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           759,104      branch-misses             #    4.09% of all branches</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       0.069981351 seconds time elapsed</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       0.054376000 seconds user</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       0.015536000 seconds sys</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>We can see that on all metrics, the running of the Python program is less efficient than the running of the C program.
The Python code takes <code>69</code> milliseconds, whereas the C code runs in less than <code>1</code> millisecond.</p><p>When deciding what programming language and what libraries and software components to use, you have to balance requirements for fast development and increased safety (inherent to higher-level programming languages) with requirements for speed or efficiency (common to lower-level programming languages such as C).
Newer modern programming languages such as Go, Rust, D aim to add the benefits of high-level programming languages and keep efficiency close to the C programming language.
Generally, additional software layers (libraries, language environments, interpreters) simplify development but decrease speed and efficiency.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="app-investigation">App Investigation<a class="hash-link" href="#app-investigation" title="Direct link to heading">​</a></h2><p>Let&#x27;s spend some time investigating actual applications residing on the local system.
For now, we know that applications are developed using high-level languages and then compiled or interpreted to use the lower-layer interfaces of the software stack, such as the system call API.</p><p>Let&#x27;s enter the <code>chapters/software-stack/applications/drills/tasks/app-investigation/support/</code> folder and run the <code>get_app_types.sh</code> script:</p><div class="language-console codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-console codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">student@os:~/.../app-investigation/support/$ ./get_app_types.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">binary apps: 2223</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Perl apps: 256</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Shell apps: 454</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Python apps: 123</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Other apps: 27</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The script prints the types of the application executables in the system.
The output will differ between systems, given each has particular types of applications installed.</p><p>We list them by running the command inside the <code>get_app_types.sh</code> script:</p><div class="language-console codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-console codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">student@os:~/.../app-investigation/support/$ find /usr/bin /bin /usr/sbin /sbin -type f -exec file {} \;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[...]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/usr/bin/qpdldecode: ELF 64-bit LSB shared object, x86-64 [...]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/usr/bin/mimeopen: Perl script text executable</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[...]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>As above, the output will differ between systems.</p><p>So, depending on the developers&#x27; choice, applications may be:</p><ul><li>compiled into executables, from compiled languages such as C, C++, Go, Rust, D</li><li>developed as scripts, from interpreted languages such as Python, Perl, JavaScript</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="tasks">Tasks<a class="hash-link" href="#tasks" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="common-functions-1">Common Functions<a class="hash-link" href="#common-functions-1" title="Direct link to heading">​</a></h3><p>Enter the <code>chapters/software-stack/libc/drills/tasks/common-functions/support/</code> folder and go through the practice items below.</p><ol><li><p>Update <code>string.c</code> and <code>string.h</code> to make available the <code>strcat()</code> function.
Call that function in <code>main_string.c</code> and print the result.</p></li><li><p>Update the <code>main_printf.c</code> file to use the implementation of <code>sprintf()</code> to collect information to be printed inside a buffer.
Call the <code>write()</code> function to print the information.
The <code>printf()</code> function will no longer be called.
This results in a single <code>write</code> system call.</p><p>Using previously implemented functions allows us to more efficiently write new programs.
These functions provide us with extensive features that we use in our programs.</p><p><a href="/operating-systems/77/Software Stack/Questions/printf-syscall">Quiz 1</a></p><p><a href="/operating-systems/77/Software Stack/Questions/strcpy-syscall">Quiz 2</a></p><p><a href="/operating-systems/77/Software Stack/Questions/printf-vs-write">Quiz 3</a></p></li><li><p>Update the <code>putchar()</code> function in <code>main_printf.c</code> to implement a buffered functionality of <code>printf()</code>.
Characters passed via the <code>putchar()</code> call will be stored in a predefined static global buffer.
The <code>write()</code> call will be invoked when a newline is encountered or when the buffer is full.
This results in a reduced number of <code>write</code> system calls.
Use <code>strace</code> to confirm the reduction of the number of <code>write</code> system calls.</p></li><li><p>Update the <code>main_printf.c</code> file to also feature a <code>flush()</code> function that forces the flushing of the static global buffer and a <code>write</code> system call.
Make calls to <code>printf()</code> and <code>flush()</code> to validate the implementation.
Use <code>strace</code> to inspect the <code>write</code> system calls invoked by <code>printf()</code> and <code>flush()</code>.</p></li></ol><p>If you&#x27;re having difficulties solving this exercise, go through <a href="/operating-systems/77/Software Stack/lab2#common-functions">this</a> reading material.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="libraries-and-libc-1">Libraries and libc<a class="hash-link" href="#libraries-and-libc-1" title="Direct link to heading">​</a></h3><p>Enter the <code>chapters/software-stack/libc/libc/drills/tasks/support/</code> folder and go through the practice items below.</p><ol><li><p>Use <code>malloc()</code> and <code>free()</code> functions in the <code>memory.c</code> program.
Make your own use of the allocated memory.</p><p>It&#x27;s very easy to use memory management functions with the libc.
The alternative (without the libc) would be more cumbersome.</p><p>Use different values for <code>malloc()</code>, i.e. the allocation size.
Use <code>strace</code> to check the system calls invoked by <code>malloc()</code> and <code>free()</code>.
You&#x27;ll see that, depending on the size, the <code>brk()</code> or <code>mmap()</code> / <code>munmap()</code> system calls are invoked.
And for certain calls to <code>malloc()</code> / <code>free()</code> no syscall is happening.
You&#x27;ll find more about them in the <a href="/data/lab">Data chapter</a>.</p><p><a href="/operating-systems/77/Software Stack/Questions/malloc">Quiz</a></p></li><li><p>Create your own C program with calls to the standard C library in <code>vendetta.c</code>.
Be as creative as you can about the types of functions being made.</p><p><a href="/operating-systems/77/Software Stack/Questions/libc">Quiz</a></p></li><li><p>Inside the <code>vendetta.c</code> file make a call <code>open(&quot;a.txt&quot;, O_RDWR | O_CREAT, 0644)</code> to open / create the <code>a.txt</code> file.
Make sure you include all required headers.
Check the system call being made.</p><p>Make an <code>fopen()</code> with the proper arguments that gets as close as possible to the <code>open()</code> call, i.e. the system call arguments are as close as possible.</p></li><li><p>Inside the <code>vendetta.c</code> file make a call to <code>sin()</code> function (for sine).
Compute <code>sin(0)</code> and <code>sin(PI/2)</code>.</p></li></ol><p>If you&#x27;re having difficulties solving this exercise, go through <a href="/operating-systems/77/Software Stack/lab2#libraries-and-libc">this</a> reading material.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="high-level-languages-1">High-Level Languages<a class="hash-link" href="#high-level-languages-1" title="Direct link to heading">​</a></h3><p>Enter the <code>chapters/software-stack/high-level-languages/drills/tasks/high-level-lang/support/</code> folder and go through the practice items below.</p><ol><li><p>Use <code>make</code> to create the <code>hello</code> executable from the <code>hello.go</code> file (a Go &quot;Hello, World!&quot;-printing program).
Use <code>ltrace</code> and <code>strace</code> to compute the number of library calls and system calls.
Use <code>perf</code> to measure the running time.</p><p>Compare the values with those from the &quot;Hello, World!&quot;-printing programs in C and Python.</p></li><li><p>Create a &quot;Hello, World!&quot;-printing program in a programming language of your choice (other than C, Python and Go).
Find the values above (library calls, system calls and running time).</p><p><a href="/operating-systems/77/Software Stack/Questions/python-tools">Quiz</a></p></li><li><p>Create programs in C, Python and Go that compute the N-th Fibonacci number.
<code>N</code> is passed as a command-line argument.</p><p>Use <code>ltrace</code> and <code>strace</code> to compute the number of library calls and system calls.
Use <code>perf</code> to measure the running time.</p><p>Compare the values of the three programs.</p></li><li><p>Create programs in C, Python and Go that copy a source file into a destination file.
Both files are passed as the two command-line arguments for the program.
Sample run:</p><div class="language-console codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-console codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">student@so:~$ cp src dest</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Use <code>ltrace</code> and <code>strace</code> to compute the number of library calls and system calls.
Use <code>perf</code> to measure the running time.
Use source files of different sizes.
Compare the outputs of these commands on the three programs.</p></li></ol><p>If you&#x27;re having difficulties solving this exercise, go through <a href="/operating-systems/77/Software Stack/lab2#high-level-languages">this</a> reading material.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="app-investigation-1">App Investigation<a class="hash-link" href="#app-investigation-1" title="Direct link to heading">​</a></h3><p>Enter the <code>chapters/software-stack/applications/drills/tasks/app-investigation/support/</code> folder and go through the practice items below.
Select a binary executable application and a scripted application.</p><ol><li><p>Use <code>ldd</code> on the two applications.
Notice the resulting messages and explain the results.</p></li><li><p>Use <code>ltrace</code> and <code>strace</code> on the two applications.
Follow the library calls and the system calls done by each application.</p></li><li><p>Check to see whether there are statically-linked application executables in the system.
The <code>file</code> command tells if the file passed as argument is a statically-linked executable.
If you can&#x27;t find one, install the <code>busybox-static</code> package.</p></li><li><p>Look into what <a href="https://busybox.net/" target="_blank" rel="noopener noreferrer">busybox</a> is and explain why it&#x27;s custom to have it as statically-linked executable.</p></li><li><p>Run <code>ldd</code>, <code>nm</code>, <code>strace</code>, <code>ltrace</code> on a statically-linked application executable.
Explain the results.</p></li></ol><p>If you&#x27;re having difficulties solving this exercise, go through <a href="/operating-systems/77/Software Stack/lab2#app-investigation">this</a> reading material.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/operating-systems/77/Software Stack/lab1"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Lab 1 - Operating System Perspective</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/operating-systems/77/Data/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Data</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#common-functions" class="table-of-contents__link toc-highlight">Common Functions</a></li><li><a href="#libraries-and-libc" class="table-of-contents__link toc-highlight">Libraries and libc</a></li><li><a href="#high-level-languages" class="table-of-contents__link toc-highlight">High-Level Languages</a></li><li><a href="#app-investigation" class="table-of-contents__link toc-highlight">App Investigation</a></li><li><a href="#tasks" class="table-of-contents__link toc-highlight">Tasks</a><ul><li><a href="#common-functions-1" class="table-of-contents__link toc-highlight">Common Functions</a></li><li><a href="#libraries-and-libc-1" class="table-of-contents__link toc-highlight">Libraries and libc</a></li><li><a href="#high-level-languages-1" class="table-of-contents__link toc-highlight">High-Level Languages</a></li><li><a href="#app-investigation-1" class="table-of-contents__link toc-highlight">App Investigation</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://curs.upb.ro" target="_blank" rel="noopener noreferrer" class="footer__link-item">Main site<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://ocw.cs.pub.ro/courses/so" target="_blank" rel="noopener noreferrer" class="footer__link-item">OCW<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.facebook.com/sisteme.de.operare/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Facebook<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 SO Team</div></div></div></footer></div>
<script src="/operating-systems/77/assets/js/runtime~main.c3e421f7.js"></script>
<script src="/operating-systems/77/assets/js/main.1dc4fdd5.js"></script>
</body>
</html>